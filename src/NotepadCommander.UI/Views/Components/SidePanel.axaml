<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:NotepadCommander.UI.ViewModels"
             xmlns:models="using:NotepadCommander.Core.Models"
             x:Class="NotepadCommander.UI.Views.Components.SidePanel"
             x:CompileBindings="False"
             Width="250">

    <Border Background="#F8FAFC"
            BorderBrush="{StaticResource BorderBrush}"
            BorderThickness="0,0,1,0">
        <Grid RowDefinitions="Auto,Auto,*">
            <Border Background="{StaticResource ToolbarBrush}"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="0,0,0,1"
                    Padding="12,8">
                <Grid ColumnDefinitions="*,Auto">
                    <TextBlock Text="EXPLORATEUR"
                               FontSize="11"
                               FontWeight="SemiBold"
                               Foreground="{StaticResource TextMutedBrush}" />
                    <Button Grid.Column="1" Classes="btn-icon"
                            Width="22" Height="22"
                            ToolTip.Tip="Ouvrir un dossier"
                            Name="OpenFolderButton">
                        <TextBlock Text="+" FontSize="14" FontWeight="Bold"
                                   Foreground="{StaticResource TextSecondaryBrush}" />
                    </Button>
                </Grid>
            </Border>

            <!-- Folder path display -->
            <TextBlock Grid.Row="1"
                       Name="FolderPathText"
                       Text=""
                       FontSize="10"
                       Foreground="{StaticResource TextMutedBrush}"
                       Padding="8,4"
                       TextTrimming="CharacterEllipsis"
                       IsVisible="False" />

            <!-- File tree -->
            <TreeView Grid.Row="2"
                      Name="FileTree"
                      Padding="4"
                      IsVisible="False">
                <TreeView.ItemTemplate>
                    <TreeDataTemplate ItemsSource="{Binding Children}">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="{Binding Icon}" FontSize="12" VerticalAlignment="Center" />
                            <TextBlock Text="{Binding Name}" FontSize="12" VerticalAlignment="Center" />
                        </StackPanel>
                    </TreeDataTemplate>
                </TreeView.ItemTemplate>
            </TreeView>

            <!-- Empty state -->
            <TextBlock Grid.Row="2"
                       Name="EmptyState"
                       Text="Glissez un dossier ici&#x0a;ou cliquez + pour ouvrir"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       TextAlignment="Center"
                       Foreground="{StaticResource TextMutedBrush}"
                       FontSize="12" />
        </Grid>
    </Border>
</UserControl>
